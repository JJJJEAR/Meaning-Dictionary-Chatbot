!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=15)}([function(e,t,r){"use strict";(function(t){const n=r(6),o=r(46),s=(r(47),{}),i=e=>{const r=/\${(\w*:?[\w\d.-]+)}/g;let n=!1;const s=o(e).forEach((function(e){const o="string"==typeof e?e.match(r):null;if(o){let r=e;for(const e of o)if(/\${env:(\w*[\w.-_]+)}/g.test(e)){const o=e.substring(2,e.length-1).split(":");r=t.env[o[1]],n=!0}this.update(r)}}));return n?i(s):s};s.sleep=async e=>new Promise(t=>setTimeout(()=>t(),e)),s.request=async e=>{const t={url:e.endpoint,method:e.method||"POST",headers:{"Content-Type":"application/json"},data:e.data};e.accessKey&&(t.headers.authorization="Bearer "+e.accessKey),e.headers&&(t.headers={...t.headers,...e.headers});try{const e=n.create();return(await e(t)).data}catch(e){if(e.response&&e.response.data){const t=e.response.data;let r,n;t.message?(({message:r}=t),n=t.name||null):t.errorMessage?(n="Error",r=t.errorMessage):t.errors&&t.errors.length&&(r=t.errors.map(e=>e.message).join(", "),n=t.errors.map(e=>e.name).join(", "));const o=new Error(r);throw o.statusCode=t.statusCode||e.response.status||null,o.name=n,o.details=t.details||null,o.url=e.response.config.url||null,o}throw e}},s.resolveInputEnvVariables=i,e.exports=s}).call(this,r(2))},function(e,t,r){"use strict";var n=r(7),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function i(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function p(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof document},forEach:p,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)p(arguments[n],r);return t},extend:function(e,t,r){return p(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t){var r,n,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c,u=[],p=!1,l=-1;function d(){p&&c&&(p=!1,c.length?u=c.concat(u):l=-1,u.length&&f())}function f(){if(!p){var e=a(d);p=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,p=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||p||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){},function(e,t,r){"use strict";t.decode=t.parse=r(18),t.encode=t.stringify=r(19)},function(e,t,r){"use strict";(function(t){var n=r(1),o=r(33),s=r(9),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=r(10)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u}).call(this,r(2))},function(e,t,r){e.exports=r(28)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(1);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(1),o=r(34),s=r(35),i=r(8),a=r(36),c=r(39),u=r(40),p=r(11);e.exports=function(e){return new Promise((function(t,r){var l=e.data,d=e.headers,f=e.responseType;n.isFormData(l)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+g)}var y=a(e.baseURL,e.url);function v(){if(h){var n="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,s={data:f&&"text"!==f&&"json"!==f?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};o(t,r,s),h=null}}if(h.open(e.method.toUpperCase(),i(y,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(v)},h.onabort=function(){h&&(r(p("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(p("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(p(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var w=(e.withCredentials||u(y))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;w&&(d[e.xsrfHeaderName]=w)}"setRequestHeader"in h&&n.forEach(d,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),f&&"json"!==f&&(h.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),r(e),h=null)})),l||(l=null),h.send(l)}))}},function(e,t,r){"use strict";var n=r(9);e.exports=function(e,t,r,o,s){var i=new Error(e);return n(i,t,r,o,s)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],s=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(s,u),n.forEach(i,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(void 0,t[o])})),n.forEach(a,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var p=o.concat(s).concat(i).concat(a),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===p.indexOf(e)}));return n.forEach(l,u),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";(function(t){const n=r(16),o=r(4),s=r(20),i=r(23),a=r(26),c=r(27),u=r(51),p=r(52),l=r(54),d=r(55),f=r(56),h=r(57),m=r(58),g=r(59),y=r(60),v=r(61),w=r(62),b=r(0),E=r(63),N=r(64),x=r(65),S=r(66),O=r(67);e.exports={ServerlessSDK:class{constructor(e={}){this.context={},this.config(e),this.domains=a[this.platformStage],this.intercepts={},this.intercepts.logs=[],this.intercepts.logsInterval=200,this.session={refreshToken:e=>y.refreshToken(this,e)},this.events={publish:e=>d.publish(e,this.getDomain("events"),this.context,this.accessKey),get:e=>d.get(e,this.getDomain("events"),this.accessKey),list:(e={})=>d.list(this.getDomain("events"),this.context,this.accessKey,e),send:e=>d.send(e,this.connection,this.context,this.accessKey)},this.frameworkDeployments={create:async e=>O.create(this,e),list:async e=>O.list(this,e)},this.webhooks={register:(e,t={})=>f.register(this,e,t),list:(e={})=>{const{starting_after:t,limit:r=10}=e;return f.list(this,t,r)},get:e=>f.get(this,e),update:(e,t)=>f.update(this,e,t||{}),delete:e=>f.remove(this,e)},this.accessKeys={create:(e,t,r)=>h.create(this,e,t,r),list:e=>h.list(this,e),remove:(e,t)=>h.remove(this,e,t),get:()=>h.get(this)},this.connections={create:(e,t,r)=>m.create(this,e,t,r),list:e=>m.list(this,e),get:(e,t)=>m.get(this,e,t),getByOrgAndAccountAlias:(e,t)=>m.getByOrgAndAccountAlias(this,e,t),update:(e,t,r,n,o)=>m.update(this,e,t,r,n,o),remove:(e,t)=>m.remove(this,e,t),syncAll:e=>m.syncAll(this,e),unsync:(e,t)=>m.unsync(this,e,t)},this.desktop={createSavedQuery:(e,t,r,n)=>g.createSavedQuery(this,e,t,r,n),getSavedQuery:(e,t,r,n)=>g.getSavedQuery(this,e,t,r,n),updateSavedQuery:(e,t,r,n,o)=>g.updateSavedQuery(this,e,t,r,n,o),deleteSavedQuery:(e,t,r,n)=>g.deleteSavedQuery(this,e,t,r,n),listSavedQueries:(e,t,r)=>g.listSavedQueries(this,e,t,r)},this.logDestinations={getOrCreate:async e=>E.getOrCreate(this,e),remove:async e=>E.remove(this,e)},this.deploymentProfiles={get:async e=>N.get(this,e),create:async e=>N.create(this,e),list:async e=>N.list(this,e),setDefault:async e=>N.setDefault(this,e)},this.organizations={get:async e=>x.get(this,e),list:async e=>x.list(this,e),create:async e=>x.create(this,e),validate:async e=>x.validate(this,e)},this.apps={create:async e=>v.create(this,e),get:async e=>v.get(this,e),update:async e=>v.update(this,e),remove:async e=>v.remove(this,e),list:async e=>v.list(this,e)},this.metadata={get:async()=>S.get(this)},this.services={get:async e=>w.get(this,e),getStateVariable:async e=>w.getStateVariable(this,e)}}config(e={}){this.accessKey=e.accessKey||this.accessKey,this.platformStage=t.env.SERVERLESS_PLATFORM_STAGE||e.platformStage||"prod",e.context=e.context||{},this.context.orgUid=e.context.orgUid||this.context.orgUid||null,this.context.orgName=e.context.orgName||this.context.orgName||null,this.context.stageName=e.context.stageName||this.context.stageName||null,this.context.appName=e.context.appName||this.context.appName||null,this.context.instanceName=e.context.instanceName||this.context.instanceName||null,this.context.componentName=e.context.componentName||this.context.componentName||null,this.context.componentVersion=e.context.componentVersion||this.context.componentVersion||null}getDomain(e=null){return this.domains[e]||null}loginIdentity(e={}){const t=e.loginBrokerUrl?e.loginBrokerUrl+"broker":this.getDomain("core")+"/login/broker",r=new n(t,void 0,{followRedirects:!0,agent:b.getAgent()});let o,i;const a=new Promise((e,t)=>{o=e,i=t});let c,u;const p=new Promise((e,t)=>{c=e,u=t});return r.onmessage=e=>{try{const t=JSON.parse(e.data);switch(t.event){case"ready":o(t.transactionId);break;case"fulfilled":{const e=(e=>{delete e.event;const t=s(e.id_token);return{id:t.tracking_id||t.sub,name:t.name,email:t.email,username:e.username,user_uid:e.user_uid,refreshToken:e.refresh_token,accessToken:e.access_token,idToken:e.id_token,expiresAt:e.expires_in?Date.now()+e.expires_in:e.expires_at}})(t);c(e),r.close();break}default:throw new Error("Encountered an unexpected message while waiting for login information. Your Serverless Framework or SDK may be out of date.")}}catch(e){i(e),u(e),r.close()}},r.onopen=()=>{r.send('{"action":"login"}')},{transactionId:a,loginData:p}}async login(e={}){const{transactionId:t,loginData:r}=this.loginIdentity(e),n=await t,s=o.stringify({client:"cli",transactionId:n});let i="console"===e.app?this.getDomain("console"):this.getDomain("dashboard");return i=`${i}?${s}`,{loginUrl:i,loginData:r}}async getUser(){return c.getUser(this)}async getUserMeta(){return c.getUserMeta(this)}async saveUserMeta(e){return c.saveUserMeta(this,e)}async validateUserAndOrgName(e){return c.validateUserAndOrgName(this,e)}async createUserAndOrg(e){return c.createUserAndOrg(this,e)}async createOrg(e){return c.createOrg(this,e)}async getOrgByName(e){return c.getOrgByName(this,e)}async listOrgs(e){return c.listOrgs(this,e)}async createApp(e=null,t={}){return c.createApp(this,e,t)}async updateApp(e=null,t={}){return c.updateApp(this,e,t)}async deleteApp(e=null,t=null){return c.deleteApp(this,e,t)}async listApps(e=null){return c.listApps(this,e)}async createInitToken(e=null,t={}){return c.createInitToken(this,e,t)}async getInitToken(e){return c.getInitToken(this,e)}async createProvider(e,t){return c.createProvider(this,e,t)}async updateProvider(e,t,r){return c.updateProvider(this,e,t,r)}async setDefaultProvider(e,t){return c.setDefaultProvider(this,e,t)}async unsetDefaultProvider(e,t){return c.unsetDefaultProvider(this,e,t)}async deleteProvider(e,t){return c.deleteProvider(this,e,t)}async createProviderLink(e,t,r,n){return c.createProviderLink(this,e,t,r,n)}async deleteProviderLink(e,t,r,n){return c.deleteProviderLink(this,e,t,r,n)}async getProviders(e){return c.getProviders(this,e)}async getProvider(e,t){return c.getProvider(this,e,t)}async getProvidersByOrgServiceInstance(e,t,r){return c.getProvidersByOrgServiceInstance(this,e,t,r)}async getProvidersByLink(e,t,r){return c.getProvidersByLink(this,e,t,r)}async getAllowedProviders(){return c.getAllowedProviders(this)}async createParam(e,t,r,n){return c.createParam(this,e,t,r,n)}async deleteParam(e,t,r,n){return c.deleteParam(this,e,t,r,n)}async updateParam(e,t,r,n,o){return c.updateParam(this,e,t,r,n,o)}async getParams(e,t,r){return c.getParams(this,e,t,r)}async getParamsByOrgServiceInstance(e,t,r){return c.getParamsByOrgServiceInstance(this,e,t,r)}async getParamsAndProvidersByOrgServiceInstance(e,t,r){return c.getParamsAndProvidersByOrgServiceInstance(this,e,t,r)}async connect(e={}){this.connection=new u(this),await this.connection.connect(e)}disconnect(){this.connection&&this.connection.disconnect()}isConnected(){return!(!this.connection||!this.connection.isConnected())}async unpublishFromRegistry(e={}){return await p.unpublish(this,e)}async publishToRegistry(e={}){return p.publish(this,e)}async getFromRegistry(e=null,t=null){return p.get(this,e,t)}generateInstanceId(e=null,t=null,r=null,n=null){return l.generateId(e,t,r,n)}validateInstance(e){return l.validateAndFormat(e)}createInstance(e=null,t=null,r=null,n=null,o="inactive"){return l.create(e,t,r,n,o)}async saveInstance(e){return l.save(this,e)}async getInstance(e=null,t=null,r=null,n=null){return l.getByName(this,e,t,r,n)}async listInstances(e=null,t){return l.listByOrgName(this,e,t)}async run(e,t={},r={}){return l.run(this,e,t,r)}async runFinish(e=null,t,r={}){return l.runFinish(this,e,t,r)}async deploy(e={},t={}){return l.deploy(this,e,t)}async remove(e={},t={}){return l.remove(this,e,t)}async startInterceptingLogs(e=null,r={}){this.intercepts.logs=[],this.intercepts.console={},this.intercepts.console.log=console.log,this.intercepts.console.debug=console.debug,this.intercepts.console.info=console.info,this.intercepts.console.error=console.error,this.intercepts.console.warn=console.warn,this.intercepts.stdout={},this.intercepts.stdout.write=t.stdout.write.bind(t.stdout),this.intercepts.stderr={},this.intercepts.stderr.write=t.stderr.write.bind(t.stderr);const n=this;this.intercepts.publish=async()=>{if(!n.intercepts.logs||!n.intercepts.logs.length)return;const t=n.intercepts.logs.map(e=>e);n.intercepts.logs=[];const o={data:{logs:t,...r}};o.event=e||"instance.logs",await n.events.publish(o)},this.intercepts.interval=setInterval(async()=>{await n.intercepts.publish()},n.intercepts.logsInterval);let o=!1;const s=(e,t)=>{const r=!o;r&&(o=!0,t.forEach(t=>{void 0===t&&(t="undefined"),"number"==typeof t&&(t=JSON.stringify(t));const r={type:e};r.createdAt=Date.now(),r.data=i.inspect(t),n.intercepts.logs.push(r)}));try{"stdout"===e?n.intercepts.stdout.write(...t):"stderr"===e?n.intercepts.stderr.write(...t):n.intercepts.console[e].apply(console,t)}finally{r&&(o=!1)}};console.log=(...e)=>{s("log",e)},console.debug=(...e)=>{s("debug",e)},console.info=(...e)=>{s("info",e)},console.error=(...e)=>{s("error",e)},console.warn=(...e)=>{s("warn",e)},t.stdout.write=(...e)=>{s("stdout",e)},t.stderr.write=(...e)=>{s("stderr",e)}}async stopInterceptingLogs(){this.intercepts.interval&&clearInterval(this.intercepts.interval),await this.intercepts.publish(),this.intercepts.logs=[],console.log=this.intercepts.console.log,console.debug=this.intercepts.console.debug,console.info=this.intercepts.console.info,console.error=this.intercepts.console.error,console.warn=this.intercepts.console.warn,t.stdout.write=this.intercepts.stdout.write,t.stderr.write=this.intercepts.stderr.write}},utils:b}}).call(this,r(2))},function(e,t,r){(function(t){var r=null;r="undefined"!=typeof WebSocket?WebSocket:"undefined"!=typeof MozWebSocket?MozWebSocket:void 0!==t?t.WebSocket||t.MozWebSocket:window.WebSocket||window.MozWebSocket,e.exports=r}).call(this,r(17))},function(e,t,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){n=window}e.exports=n},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,s){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var p=0;p<u;++p){var l,d,f,h,m=e[p].replace(a,"%20"),g=m.indexOf(r);g>=0?(l=m.substr(0,g),d=m.substr(g+1)):(l=m,d=""),f=decodeURIComponent(l),h=decodeURIComponent(d),n(i,f)?o(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?s(i(e),(function(i){var a=encodeURIComponent(n(i))+r;return o(e[i])?s(e[i],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[i]))})).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";var n=r(21);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,r){var n=r(22);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return n(t)}}},function(e,t,r){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports=window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,s=0,i=0,a="";o=t.charAt(i++);~o&&(r=s%4?64*r+o:o,s++%4)?a+=String.fromCharCode(255&r>>(-2*s&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return a}},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,s=n.length,i=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),c=n[r];r<s;c=n[++r])m(c)||!b(c)?i+=" "+c:i+=" "+a(c);return i},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var s,i={};function a(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),p(n,e,n.depth)}function c(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function u(e,t){return e}function p(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return y(o)||(o=p(e,o,n)),o}var s=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(s)return s;var i=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(r)),N(r)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return l(r);if(0===i.length){if(x(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(w(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(N(r))return l(r)}var u,b="",S=!1,O=["{","}"];(f(r)&&(S=!0,O=["[","]"]),x(r))&&(b=" [Function"+(r.name?": "+r.name:"")+"]");return w(r)&&(b=" "+RegExp.prototype.toString.call(r)),E(r)&&(b=" "+Date.prototype.toUTCString.call(r)),N(r)&&(b=" "+l(r)),0!==i.length||S&&0!=r.length?n<0?w(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=S?function(e,t,r,n,o){for(var s=[],i=0,a=t.length;i<a;++i)A(t,String(i))?s.push(d(e,t,r,n,String(i),!0)):s.push("");return o.forEach((function(o){o.match(/^\d+$/)||s.push(d(e,t,r,n,o,!0))})),s}(e,r,n,a,i):i.map((function(t){return d(e,r,n,a,t,S)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,b,O)):O[0]+b+O[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,o,s){var i,a,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),A(n,o)||(i="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(i)){if(s&&o.match(/^\d+$/))return a;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function w(e){return b(e)&&"[object RegExp]"===S(e)}function b(e){return"object"==typeof e&&null!==e}function E(e){return b(e)&&"[object Date]"===S(e)}function N(e){return b(e)&&("[object Error]"===S(e)||e instanceof Error)}function x(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(v(s)&&(s=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!i[r])if(new RegExp("\\b"+r+"\\b","i").test(s)){var n=e.pid;i[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else i[r]=function(){};return i[r]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=w,t.isObject=b,t.isDate=E,t.isError=N,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(24);var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),$[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",K(),t.format.apply(t,arguments))},t.inherits=r(25),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=T,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var s=this,i=function(){return o.apply(s,arguments)};t.apply(this,r).then((function(t){e.nextTick(i,null,t)}),(function(t){e.nextTick(k,t,i)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(2))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e){e.exports=JSON.parse('{"local":{"core":"http://localhost:3011"},"dev":{"core":"https://api.serverless-dev.com","events-streaming":"wss://events-streaming-v1.serverless-platform-dev.com","events":"https://events-v1.serverless-platform-dev.com","registry":"https://registry-v1.serverless-platform-dev.com","engine":"https://engine-v1.serverless-platform-dev.com","dashboard":"https://app.serverless-dev.com","console":"https://console.serverless-dev.com","providers":"https://sp-providers-v1.serverless-platform-dev.com","event-webhooks":"https://event-webhooks-v1.serverless-platform-dev.com","connections":"https://connections-v1.serverless-platform-dev.com","desktop":"https://desktop-v1.serverless-platform-dev.com"},"prod":{"core":"https://api.serverless.com","events-streaming":"wss://events-streaming-v1.serverless-platform.com","events":"https://events-v1.serverless-platform.com","registry":"https://registry-v1.serverless-platform.com","engine":"https://engine-v1.serverless-platform.com","dashboard":"https://app.serverless.com","console":"https://console.serverless.com","providers":"https://sp-providers-v1.serverless-platform.com","event-webhooks":"https://event-webhooks-v1.serverless-platform.com","connections":"https://connections-v1.serverless-platform.com","desktop":"https://desktop-v1.serverless-platform.com"}}')},function(e,t,r){"use strict";const n=r(0),o=async e=>{const t=e.getDomain("core")+"/core/users/meta";return await n.request({accessKey:e.accessKey,endpoint:t,method:"GET"})},s=async(e,t)=>{const r=e.getDomain("core")+"/core/tenants";return await n.request({accessKey:e.accessKey,endpoint:r,method:"POST",data:{ownerUserName:t,title:t,tenantName:t}})};e.exports={getUser:async e=>{const t=e.getDomain("core")+"/core/me";return await n.request({accessKey:e.accessKey,endpoint:t,method:"GET"})},getUserMeta:o,saveUserMeta:async(e,t={})=>{const r=await o(e);t=Object.assign(r||{},t);const s=e.getDomain("core")+"/core/users/meta";return await n.request({accessKey:e.accessKey,endpoint:s,method:"POST",data:t})},validateUserAndOrgName:async(e,t)=>{const r=e.getDomain("core")+"/core/validate/tenants",o=await n.request({accessKey:e.accessKey,endpoint:r,method:"POST",data:{ownerUserName:t,title:t,tenantName:t}});return o&&o.validationErrors&&o.validationErrors.length?o.validationErrors:null},createUserAndOrg:async(e,t)=>await s(e,t),createOrg:s,getOrgByName:async(e,t)=>{const r=`${e.getDomain("core")}/core/tenants/${t}`;return await n.request({accessKey:e.accessKey,endpoint:r,method:"GET"})},listOrgs:async(e,t)=>{const r=`${e.getDomain("core")}/core/tenants?userName=${t}`;return await n.request({accessKey:e.accessKey,endpoint:r,method:"GET"})},createApp:async(e,t=null,r={})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications`;return await n.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:{tenantName:t,appName:r.name,title:r.name,description:r.description,deploymentProfiles:r.deploymentProfiles}})},updateApp:async(e,t=null,r={})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${r.name}`;return await n.request({accessKey:e.accessKey,endpoint:o,method:"PATCH",data:{appName:r.name,title:r.name,description:r.description,deploymentProfiles:r.deploymentProfiles}})},deleteApp:async(e,t=null,r=null)=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${r}`;return await n.request({accessKey:e.accessKey,endpoint:o,method:"DELETE"})},listApps:async(e,t=null)=>{const r=`${e.getDomain("core")}/core/tenants/${t}/applications`;return await n.request({accessKey:e.accessKey,endpoint:r,method:"GET"})},createInitToken:async(e,t=null,r)=>{const o=e.getDomain("core")+"/core/initTokens";return await n.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:{tenantName:t,...r}})},getInitToken:async(e,t)=>{const r=`${e.getDomain("core")}/core/initTokens/${t}`;return await n.request({accessKey:e.accessKey,endpoint:r,method:"GET"})},getProviders:async(e,t)=>{const r=`${e.getDomain("providers")}/orgs/${t}/providers`;return await n.request({accessKey:e.accessKey,endpoint:r,method:"GET"})},getProvider:async(e,t,r)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers/${r}`;return await n.request({accessKey:e.accessKey,endpoint:o,method:"GET"})},getProvidersByOrgServiceInstance:async(e,t,r,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/services/${encodeURI(r)}/instances/${encodeURI(o)}`;return await n.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},createProvider:async(e,t,r)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers`;return await n.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:r})},updateProvider:async(e,t,r,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/providers/${r}`;return await n.request({accessKey:e.accessKey,endpoint:s,method:"PUT",data:o})},setDefaultProvider:async(e,t,r)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers/${r}/set-default`;return await n.request({accessKey:e.accessKey,endpoint:o,method:"POST"})},unsetDefaultProvider:async(e,t,r)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers/${r}/set-default/?isDefault=false`;return await n.request({accessKey:e.accessKey,endpoint:o,method:"POST"})},deleteProvider:async(e,t,r)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers/${r}`;return await n.request({accessKey:e.accessKey,endpoint:o,method:"DELETE"})},createProviderLink:async(e,t,r,o,s)=>{const i=`${e.getDomain("providers")}/orgs/${t}/${r}s/${encodeURI(o)}`;return await n.request({accessKey:e.accessKey,endpoint:i,method:"POST",data:{providerUid:s}})},deleteProviderLink:async(e,t,r,o,s)=>{const i=`${e.getDomain("providers")}/orgs/${t}/${r}s/${encodeURI(o)}/providers/${s}`;return await n.request({accessKey:e.accessKey,endpoint:i,method:"DELETE"})},getProvidersByLink:async(e,t,r,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/${r}s/${encodeURI(o)}`;return await n.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},getAllowedProviders:async e=>{const t=e.getDomain("providers")+"/providers";return await n.request({accessKey:e.accessKey,endpoint:t,method:"GET"})},createParam:async(e,t,r,o,s)=>{const i=`${e.getDomain("providers")}/orgs/${t}/${r}s/${encodeURI(o)}/params`;return await n.request({accessKey:e.accessKey,endpoint:i,method:"POST",data:s})},deleteParam:async(e,t,r,o,s)=>{const i=`${e.getDomain("providers")}/orgs/${t}/${r}s/${encodeURI(o)}/params/${s}`;return await n.request({accessKey:e.accessKey,endpoint:i,method:"DELETE"})},getParams:async(e,t,r,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/${r}s/${encodeURI(o)}/params`;return await n.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},updateParam:async(e,t,r,o,s,i)=>{const a=`${e.getDomain("providers")}/orgs/${t}/${r}s/${encodeURI(o)}/params/${s}`;return await n.request({accessKey:e.accessKey,endpoint:a,method:"PUT",data:i})},getParamsByOrgServiceInstance:async(e,t,r,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/services/${encodeURI(r)}/instances/${encodeURI(o)}/params`;return await n.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},getParamsAndProvidersByOrgServiceInstance:async(e,t,r,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/services/${encodeURI(r)}/instances/${encodeURI(o)}/params-and-providers`;return await n.request({accessKey:e.accessKey,endpoint:s,method:"GET"})}}},function(e,t,r){"use strict";var n=r(1),o=r(7),s=r(29),i=r(13);function a(e){var t=new s(e),r=o(s.prototype.request,t);return n.extend(r,s.prototype,t),n.extend(r,t),r}var c=a(r(5));c.Axios=s,c.create=function(e){return a(i(c.defaults,e))},c.Cancel=r(14),c.CancelToken=r(43),c.isCancel=r(12),c.all=function(e){return Promise.all(e)},c.spread=r(44),c.isAxiosError=r(45),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";var n=r(1),o=r(8),s=r(30),i=r(31),a=r(13),c=r(41),u=c.validators;function p(e){this.defaults=e,this.interceptors={request:new s,response:new s}}p.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!n){var p=[i,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(s),o=Promise.resolve(e);p.length;)o=o.then(p.shift(),p.shift());return o}for(var l=e;r.length;){var d=r.shift(),f=r.shift();try{l=d(l)}catch(e){f(e);break}}try{o=i(l)}catch(e){return Promise.reject(e)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},p.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){p.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){p.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=p},function(e,t,r){"use strict";var n=r(1);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(1),o=r(32),s=r(12),i=r(5);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return a(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(a(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(1),o=r(5);e.exports=function(e,t,r){var s=this||o;return n.forEach(r,(function(r){e=r.call(s,e,t)})),e}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(11);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(37),o=r(38);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(42),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={},i=n.version.split(".");function a(e,t){for(var r=t?t.split("."):i,n=e.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}o.transitional=function(e,t,r){var o=t&&a(t);function i(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new Error(i(n," has been removed in "+t));return o&&!s[n]&&(s[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],i=t[s];if(i){var a=e[s],c=void 0===a||i(a,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:o}},function(e){e.exports=JSON.parse('{"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@0.21.4","_where":"/home/runner/work/platform/platform/sdk","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},function(e,t,r){"use strict";var n=r(14);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,r){"use strict";function n(e){return Object.prototype.toString.call(e)}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)}var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},a=Object.prototype.hasOwnProperty||function(e,t){return t in e};function c(e){if("object"==typeof e&&null!==e){var t;if(o(e))t=[];else if("[object Date]"===n(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===n(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===n(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===n(e)}(e)||function(e){return"[object Number]"===n(e)}(e)||function(e){return"[object String]"===n(e)}(e))t=Object(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var r=e.constructor&&e.constructor.prototype||e.__proto__||{},a=function(){};a.prototype=r,t=new a}return s(i(e),(function(r){t[r]=e[r]})),t}return e}function u(e,t,r){var n=[],u=[],p=!0;return function e(l){var d=r?c(l):l,f={},h=!0,m={node:d,node_:l,path:[].concat(n),parent:u[u.length-1],parents:u,key:n[n.length-1],isRoot:0===n.length,level:n.length,circular:null,update:function(e,t){m.isRoot||(m.parent.node[m.key]=e),m.node=e,t&&(h=!1)},delete:function(e){delete m.parent.node[m.key],e&&(h=!1)},remove:function(e){o(m.parent.node)?m.parent.node.splice(m.key,1):delete m.parent.node[m.key],e&&(h=!1)},keys:null,before:function(e){f.before=e},after:function(e){f.after=e},pre:function(e){f.pre=e},post:function(e){f.post=e},stop:function(){p=!1},block:function(){h=!1}};if(!p)return m;function g(){if("object"==typeof m.node&&null!==m.node){m.keys&&m.node_===m.node||(m.keys=i(m.node)),m.isLeaf=0===m.keys.length;for(var e=0;e<u.length;e++)if(u[e].node_===l){m.circular=u[e];break}}else m.isLeaf=!0,m.keys=null;m.notLeaf=!m.isLeaf,m.notRoot=!m.isRoot}g();var y=t.call(m,m.node);return void 0!==y&&m.update&&m.update(y),f.before&&f.before.call(m,m.node),h?("object"!=typeof m.node||null===m.node||m.circular||(u.push(m),g(),s(m.keys,(function(t,o){n.push(t),f.pre&&f.pre.call(m,m.node[t],t);var s=e(m.node[t]);r&&a.call(m.node,t)&&(m.node[t]=s.node),s.isLast=o===m.keys.length-1,s.isFirst=0===o,f.post&&f.post.call(m,s),n.pop()})),u.pop()),f.after&&f.after.call(m,m.node),m):m}(e).node}function p(e){this.value=e}function l(e){return new p(e)}p.prototype.get=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!t||!a.call(t,n))return;t=t[n]}return t},p.prototype.has=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!t||!a.call(t,n))return!1;t=t[n]}return!0},p.prototype.set=function(e,t){for(var r=this.value,n=0;n<e.length-1;n++){var o=e[n];a.call(r,o)||(r[o]={}),r=r[o]}return r[e[n]]=t,t},p.prototype.map=function(e){return u(this.value,e,!0)},p.prototype.forEach=function(e){return this.value=u(this.value,e,!1),this.value},p.prototype.reduce=function(e,t){var r=1===arguments.length,n=r?this.value:t;return this.forEach((function(t){this.isRoot&&r||(n=e.call(this,n,t))})),n},p.prototype.paths=function(){var e=[];return this.forEach((function(){e.push(this.path)})),e},p.prototype.nodes=function(){var e=[];return this.forEach((function(){e.push(this.node)})),e},p.prototype.clone=function(){var e=[],t=[];return function r(n){for(var o=0;o<e.length;o++)if(e[o]===n)return t[o];if("object"==typeof n&&null!==n){var a=c(n);return e.push(n),t.push(a),s(i(n),(function(e){a[e]=r(n[e])})),e.pop(),t.pop(),a}return n}(this.value)},s(i(p.prototype),(function(e){l[e]=function(t){var r=[].slice.call(arguments,1),n=new p(t);return n[e].apply(n,r)}})),e.exports=l},function(e,t,r){e.exports=p,p.Minimatch=l;var n=function(){try{return r(3)}catch(e){}}()||{sep:"/"};p.sep=n.sep;var o=p.GLOBSTAR=l.GLOBSTAR={},s=r(48),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function u(e,t){t=t||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function p(e,t,r){return f(t),r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&new l(t,r).match(e)}function l(e,t){if(!(this instanceof l))return new l(e,t);f(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===n.sep||(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function d(e,t){return t||(t=this instanceof l?this.options:{}),e=void 0===e?this.pattern:e,f(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s(e)}p.filter=function(e,t){return t=t||{},function(r,n,o){return p(r,e,t)}},p.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return p;var t=p,r=function(r,n,o){return t(r,n,u(e,o))};return(r.Minimatch=function(r,n){return new t.Minimatch(r,u(e,n))}).defaults=function(r){return t.defaults(u(e,r)).Minimatch},r.filter=function(r,n){return t.filter(r,u(e,n))},r.defaults=function(r){return t.defaults(u(e,r))},r.makeRe=function(r,n){return t.makeRe(r,u(e,n))},r.braceExpand=function(r,n){return t.braceExpand(r,u(e,n))},r.match=function(r,n,o){return t.match(r,n,u(e,o))},r},l.defaults=function(e){return p.defaults(e).Minimatch},l.prototype.debug=function(){},l.prototype.make=function(){var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)});this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(c)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},l.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=this.options,n=0;if(r.nonegate)return;for(var o=0,s=e.length;o<s&&"!"===e.charAt(o);o++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},p.braceExpand=function(e,t){return d(e,t)},l.prototype.braceExpand=d;var f=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};l.prototype.parse=function(e,t){f(e);var r=this.options;if("**"===e){if(!r.noglobstar)return o;e="*"}if(""===e)return"";var n,s="",c=!!r.nocase,u=!1,p=[],l=[],d=!1,m=-1,g=-1,y="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function w(){if(n){switch(n){case"*":s+="[^/]*?",c=!0;break;case"?":s+="[^/]",c=!0;break;default:s+="\\"+n}v.debug("clearStateChar %j %j",n,s),n=!1}}for(var b,E=0,N=e.length;E<N&&(b=e.charAt(E));E++)if(this.debug("%s\t%s %s %j",e,E,s,b),u&&a[b])s+="\\"+b,u=!1;else switch(b){case"/":return!1;case"\\":w(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,E,s,b),d){this.debug("  in class"),"!"===b&&E===g+1&&(b="^"),s+=b;continue}v.debug("call clearStateChar %j",n),w(),n=b,r.noext&&w();continue;case"(":if(d){s+="(";continue}if(!n){s+="\\(";continue}p.push({type:n,start:E-1,reStart:s.length,open:i[n].open,close:i[n].close}),s+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,s),n=!1;continue;case")":if(d||!p.length){s+="\\)";continue}w(),c=!0;var x=p.pop();s+=x.close,"!"===x.type&&l.push(x),x.reEnd=s.length;continue;case"|":if(d||!p.length||u){s+="\\|",u=!1;continue}w(),s+="|";continue;case"[":if(w(),d){s+="\\"+b;continue}d=!0,g=E,m=s.length,s+=b;continue;case"]":if(E===g+1||!d){s+="\\"+b,u=!1;continue}var S=e.substring(g+1,E);try{RegExp("["+S+"]")}catch(e){var O=this.parse(S,h);s=s.substr(0,m)+"\\["+O[0]+"\\]",c=c||O[1],d=!1;continue}c=!0,d=!1,s+=b;continue;default:w(),u?u=!1:!a[b]||"^"===b&&d||(s+="\\"),s+=b}d&&(S=e.substr(g+1),O=this.parse(S,h),s=s.substr(0,m)+"\\["+O[0],c=c||O[1]);for(x=p.pop();x;x=p.pop()){var $=s.slice(x.reStart+x.open.length);this.debug("setting tail",s,x),$=$.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",$,$,x,s);var K="*"===x.type?"[^/]*?":"?"===x.type?"[^/]":"\\"+x.type;c=!0,s=s.slice(0,x.reStart)+K+"\\("+$}w(),u&&(s+="\\\\");var A=!1;switch(s.charAt(0)){case"[":case".":case"(":A=!0}for(var T=l.length-1;T>-1;T--){var k=l[T],P=s.slice(0,k.reStart),j=s.slice(k.reStart,k.reEnd-8),D=s.slice(k.reEnd-8,k.reEnd),q=s.slice(k.reEnd);D+=q;var U=P.split("(").length-1,_=q;for(E=0;E<U;E++)_=_.replace(/\)[+*?]?/,"");var R="";""===(q=_)&&t!==h&&(R="$"),s=P+j+q+R+D}""!==s&&c&&(s="(?=.)"+s);A&&(s=y+s);if(t===h)return[s,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var C=r.nocase?"i":"";try{var I=new RegExp("^"+s+"$",C)}catch(e){return new RegExp("$.")}return I._glob=e,I._src=s,I};var h={};p.makeRe=function(e,t){return new l(e,t||{}).makeRe()},l.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",s=e.map((function(e){return e.map((function(e){return e===o?r:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,r){var n=new l(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},l.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(c),this.debug(this.pattern,"split",e);var o,s,i=this.set;for(this.debug(this.pattern,"set",i),s=e.length-1;s>=0&&!(o=e[s]);s--);for(s=0;s<i.length;s++){var a=i[s],u=e;if(r.matchBase&&1===a.length&&(u=[o]),this.matchOne(u,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},l.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,i=0,a=e.length,c=t.length;s<a&&i<c;s++,i++){this.debug("matchOne loop");var u,p=t[i],l=e[s];if(this.debug(t,p,l),!1===p)return!1;if(p===o){this.debug("GLOBSTAR",[t,p,l]);var d=s,f=i+1;if(f===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!n.dot&&"."===e[s].charAt(0))return!1;return!0}for(;d<a;){var h=e[d];if(this.debug("\nglobstar while",e,d,t,f,h),this.matchOne(e.slice(d),t.slice(f),r))return this.debug("globstar found match!",d,a,h),!0;if("."===h||".."===h||!n.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,d,t,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!r||(this.debug("\n>>> no match, partial?",e,d,t,f),d!==a))}if("string"==typeof p?(u=l===p,this.debug("string match",p,l,u)):(u=l.match(p),this.debug("pattern match",p,l,u)),!u)return!1}if(s===a&&i===c)return!0;if(s===a)return r;if(i===c)return s===a-1&&""===e[s];throw new Error("wtf?")}},function(e,t,r){var n=r(49),o=r(50);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,r){var s=[],i=o("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),g=u||l,y=i.body.indexOf(",")>=0;if(!g&&!y)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+a+i.post,e(t)):[t];if(g)c=i.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var r=[],n=o("{","}",t);if(!n)return t.split(",");var s=n.pre,i=n.body,a=n.post,c=s.split(",");c[c.length-1]+="{"+i+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));return r.push.apply(r,c),r}(i.body)).length)if(1===(c=e(c[0],!1).map(d)).length)return(b=i.post.length?e(i.post,!1):[""]).map((function(e){return i.pre+c[0]+e}))}var v,w=i.pre,b=i.post.length?e(i.post,!1):[""];if(g){var E=p(c[0]),N=p(c[1]),x=Math.max(c[0].length,c[1].length),S=3==c.length?Math.abs(p(c[2])):1,O=h;N<E&&(S*=-1,O=m);var $=c.some(f);v=[];for(var K=E;O(K,N);K+=S){var A;if(l)"\\"===(A=String.fromCharCode(K))&&(A="");else if(A=String(K),$){var T=x-A.length;if(T>0){var k=new Array(T+1).join("0");A=K<0?"-"+k+A.slice(1):k+A}}v.push(A)}}else v=n(c,(function(t){return e(t,!1)}));for(var P=0;P<v.length;P++)for(var j=0;j<b.length;j++){var D=w+v[P]+b[j];(!r||g||D)&&s.push(D)}return s}(function(e){return e.split("\\\\").join(s).split("\\{").join(i).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(l)};var s="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function p(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function l(e){return e.split(s).join("\\").split(i).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function d(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function h(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var n=[],o=0;o<e.length;o++){var s=t(e[o],o);r(s)?n.push.apply(n,s):n.push(s)}return n};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t,r){e instanceof RegExp&&(e=o(e,r)),t instanceof RegExp&&(t=o(t,r));var n=s(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function o(e,t){var r=t.match(e);return r?r[0]:null}function s(e,t,r){var n,o,s,i,a,c=r.indexOf(e),u=r.indexOf(t,c+1),p=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;p>=0&&!a;)p==c?(n.push(p),c=r.indexOf(e,p+1)):1==n.length?a=[n.pop(),u]:((o=n.pop())<s&&(s=o,i=u),u=r.indexOf(t,p+1)),p=c<u&&c>=0?c:u;n.length&&(a=[s,i])}return a}e.exports=n,n.range=s},function(e,t,r){"use strict";const n=r(0);e.exports=class{constructor(e){this.sdk=e,this.connection=null,this.context={}}isConnected(){return!!this.connection}async connect({orgUid:e,onEvent:t}){if(!e)throw new Error('You must specify an "orgUid" to connect');e&&(this.sdk.context.orgUid=e);const r=async({orgUid:e,accessKey:t})=>{let r=this.sdk.getDomain("providers");return(await n.request({endpoint:`${r}/orgs/${e}/providers`,method:"GET",accessKey:t})).result},o=async({orgUid:e,accessKey:t,initialProviders:n,startTime:s})=>{if(s=s||Date.now(),Date.now()-s>9e5)throw new Error("Timeout: Could not find provider");let i=await r({orgUid:e,accessKey:t});if(i.length>n.length){return i.find(e=>!n.find(t=>t.providerUid===e.providerUid))}return await new Promise(e=>setTimeout(e,5e3)),o({orgUid:e,accessKey:t,initialProviders:n,startTime:s})};let s=await r({orgUid:e,accessKey:this.sdk.accessKey}),i=await o({orgUid:e,accessKey:this.sdk.accessKey,initialProviders:s});if(t)return t(i)}send(e){}disconnect(e){this.connection=null}}},function(e,t,r){"use strict";const n=r(3),o=r(3),{tmpdir:s}=r(53),i=r(6),a=r(0),c=async(e,t)=>{const r=n.basename(e);e=n.resolve(e);const s=n.join(e,"serverless.yml"),i=n.join(e,"serverless.yaml"),c=n.join(e,"serverless.json");let u;if(a.fileExistsSync(s)&&(u=s),a.fileExistsSync(i)&&(u=i),a.fileExistsSync(c)&&(u=c),!u)return null;const p=n.join(r,n.basename(u)),l=await o.promises.readFile(u,"utf-8"),d={};return d.fileName=p,d.fileContent=((e,t=[])=>{for(const r of t){const t=new RegExp(`^${r}\\s*:\\s+.*$`,"m");e=e.replace(t,()=>"")}return e.replace(/(\r\n|\r|\n){2,}/g,"$1\n")})(l,t),d},u=e=>o.statSync(e).isDirectory(),p=async e=>{const t=n.join(s(),Math.random().toString(36).substring(6)+".zip");let r=[],i=[];"component"===e.type?r.push({fileName:"_handler.js",fileContent:"const { handler } = require('@serverless/core');module.exports.handler = handler;"}):(i.push("**/serverless.template.yml"),i.push("**/node_modules/**"),i.push("**/.env"),i.push("**/.env.*"),i.push("**/.git/**"));const p=await(async e=>{const t=[],r=["org","app","service","stage","description","keywords","repo","license","service"],s=await o.promises.readdir(e);for(const o of s){const s=n.join(e,o);!o.startsWith(".")&&u(s)&&t.push(c(s,r))}const i=(await Promise.all(t)).filter(e=>null!==e),a=await c(e,r);return a&&(a.fileName=n.basename(a.fileName),0!==i.length&&(a.doNotInclude=!0),i.push(a)),i})(e.src),l=p.filter(e=>!e.doNotInclude);r=r.concat(l);const d=p.map(e=>e.fileName);return i=i.concat(d),await a.zip(e.src,{outputFilePath:t,exclude:i,includeContent:r,shouldFilterByGitignore:"template"===e.type}),t};e.exports={get:async(e,t,r)=>{let n=e.getDomain("registry")+"/packages";t&&(n=`${n}/${t}`),r&&(n=`${n}/${r}`);const o=await a.request({accessKey:e.accessKey,endpoint:n,method:"GET"});return delete o.componentName,delete o.component,delete o.componentDefinition,"template"===o.type&&(delete o.version,delete o.versions),o},publish:async(e,t)=>{t=(e=>{const t=Object.assign({},e);if(!t.name)throw new Error("The 'name' property is required");if(!t.version)throw new Error("The 'version' property is required");if("dev"===t.version&&(t.version="0.0.0-dev"),t.org&&(t.orgName=t.org,delete t.org),!t.orgName)throw new Error("'orgName' is required");if(!t.src)throw new Error("'src' is required");if(!t.type)throw new Error("'type' is required");return t.providers&&(t.types=t.types||{},t.types.providers=t.providers,delete t.providers),t.actions&&(t.types=t.types||{},t.types.actions=t.actions,delete t.actions),t})(t);const r=await a.request({endpoint:e.getDomain("registry")+"/packages/prePublish",accessKey:e.accessKey,method:"POST",data:t}),{packageUploadUrl:n,packageKey:s}=r,c=await p(t),u=i.create();u.defaults.headers.common={},u.defaults.headers.put={};const l=o.readFileSync(c),d={maxContentLength:1/0,maxBodyLength:1/0};return await u.put(n,l,d),a.request({endpoint:e.getDomain("registry")+"/packages/postPublish",accessKey:e.accessKey,method:"POST",data:{orgName:t.orgName,packageKey:s}})},unpublish:async(e,{name:t,version:r,org:n})=>{const o=`${e.getDomain("registry")}/packages/${t}/${r}`;return a.request({endpoint:o,accessKey:e.accessKey,method:"DELETE",headers:{org:n}})}}},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,r){"use strict";(function(t){const n=r(3),o=r(3).exec,s=r(0),i=e=>{const t=JSON.parse(JSON.stringify(e));if(t.org&&(t.orgName=t.org,delete t.org),t.stage&&(t.stageName=t.stage,delete t.stage),t.app&&(t.appName=t.app,delete t.app),t.name&&(t.instanceName=t.name,delete t.name),!(t.orgName&&t.stageName&&t.appName&&t.instanceName))throw new Error("'orgName' 'stageName' 'appName' and 'instanceName' are required");if(t.component&&(t.componentName=t.component.includes("@")?t.component.split("@")[0]:t.component,t.componentVersion=t.component.includes("@")?t.component.split("@")[1]:"",delete t.component),!t.componentName)throw new Error("'componentName' is required");return t.inputs||(t.inputs={}),t},a=async(e,t=null,r=null,n=null,o=null)=>s.request({endpoint:e.getDomain("engine")+"/getInstance",accessKey:e.accessKey,method:"POST",data:{orgName:t,appName:n,stageName:r,instanceName:o}}),c=async(e,r={},a={},c={})=>{let u,p=JSON.parse(JSON.stringify(a));if(!r)throw new Error('A "method" argument is required');if(p=i(a),p.inputs.src){let r=p.inputs.src;"string"!=typeof r&&r.dist?r=r.dist:"string"!=typeof r&&r.src&&(r=r.src),p.inputs.src&&(p.inputs.srcOriginal=JSON.parse(JSON.stringify(p.inputs.src))),p.inputs.src=await(async e=>{if("object"==typeof e&&e.hook&&e.dist){const t={cwd:e.src,env:e.env};return new Promise((r,n)=>{o(e.hook,t,t=>t?n(new Error(`Failed running "src.hook": "${e.hook}" due to the following error: ${t.message}`)):r(e.dist))})}return"object"==typeof e&&e.src?e=n.resolve(e.src):"string"==typeof e&&(e=n.resolve(e)),e})(p.inputs.src),t.argv.includes("--force")&&(c.force=!0);const{srcDownloadUrl:i,bytes:a}=await s.cache(e,p,c);if(a>2e8)throw new Error("Your code size must be less than 200MB.  Try using Webpack, Parcel, or AWS Lambda layers to reduce your code size.");p.inputs.src=i,u=a}return s.request({endpoint:e.getDomain("engine")+"/run",accessKey:e.accessKey,method:"POST",data:{method:r,instance:p,options:c,size:u}})};e.exports={generateId:(e,t,r,n)=>{if(!(e&&t&&r&&n))throw new Error("'orgUid' 'stageName' 'appUid' and 'instanceName' are required");return`${e}.${t}.${r}.${n}`},validateAndFormat:i,create:(e=null,t=null,r=null,n=null,o="inactive")=>{if(!(e&&t&&r&&n))throw new Error("'orgName' 'stageName' 'appName' and 'instanceName' are required");const s={};return s.orgName=e,s.appName=r,s.stageName=t,s.instanceName=n,s.componentName=null,s.componentVersion=null,s.inputs={},s.outputs={},s.state={},s.description=null,s.instanceStatus=o,s.deploymentError=null,s.deploymentErrorStack=null,s.lastAction=null,s.createdAt=Date.now(),s.updatedAt=Date.now(),s.lastDeployedAt=null,s.lastActionAt=null,s.instanceMetrics={},s.instanceMetrics.actions=0,s.instanceMetrics.deployments=0,s.instanceMetrics.removes=0,s.instanceMetrics.errors=0,s},save:async(e,t={})=>(t=i(t),s.request({endpoint:e.getDomain("engine")+"/saveInstance",accessKey:e.accessKey,method:"POST",data:{instance:t}})),getByName:a,listByOrgName:async(e,t=null,r=null)=>s.request({endpoint:e.getDomain("engine")+"/listInstances",accessKey:e.accessKey,method:"POST",data:{orgName:t,orgUid:r}}),run:c,runFinish:async(e,t=null,r={},n={})=>s.request({endpoint:e.getDomain("engine")+"/runFinish",accessKey:e.accessKey,method:"POST",data:{method:t,instance:r,meta:n}}),deploy:async(e,t,r)=>{r.timeout=r.timeout||24e4,r.interval=r.interval||500;const n=Date.now();await c(e,"deploy",t,r);const o=async()=>{if(Date.now()-r.timeout>n)throw new Error(`Request timed out after ${r.timeout/6e4} minutes`);let i=await a(e,t.orgName||t.org,t.stageName||t.stage,t.appName||t.app,t.instanceName||t.name);if(i=i.instance,"active"===i.instanceStatus)return i;if("error"===i.instanceStatus){const e=new Error(i.deploymentError);throw e.stack=i.deploymentErrorStack,e}return await s.sleep(r.interval),o()};return o()},remove:async(e,t,r)=>{r.timeout=r.timeout||6e4,r.interval=r.interval||500;const n=Date.now();await c(e,"remove",t,r);const o=async()=>{if(Date.now()-r.timeout>n)throw new Error(`Request timed out after ${r.timeout/1e3} seconds`);let i=await a(e,t.orgName||t.org,t.stageName||t.stage,t.appName||t.app,t.instanceName||t.name);if(i=i.instance,"inactive"===i.instanceStatus)return i;if("error"===i.instanceStatus){const e=new Error(i.deploymentError);throw e.stack=i.deploymentErrorStack,e}return await s.sleep(r.interval),o()};return o()}}}).call(this,r(2))},function(e,t,r){"use strict";const n=r(0);function o(e){if(!e)throw new Error('An "event" is required');if("object"!=typeof e)throw new Error('The "event" argument must be an object');const t=({event:e})=>{if(!e||"string"!=typeof e)throw new Error('The "event" property containing the event type is required and must be a string')};if(Array.isArray(e)){if(!e.length)throw new Error("Event batch must be non empty");let r,n;e.forEach(e=>{if(t(e),r&&(e.org_uid||e.orgUid)&&r!==(e.org_uid||e.orgUid))throw new Error("All events in batch must belong to the same org uid");if(n&&(e.org_name||e.orgName)&&n!==(e.org_name||e.orgName))throw new Error("All events in batch must belong to the same org name");r=e.org_uid||e.orgUid||r,n=e.org_name||e.orgName||n}),r&&(e[0].orgUid=e[0].org_uid=r),n&&(e[0].orgName=e[0].org_name=n)}else t(e);return e}function s(e,t,r){const n=e=>({event:e.event.trim(),user_uid:e.user_uid||e.userUid,stage_name:e.stage_name||e.stageName,app_name:e.app_name||e.appName,instance_name:e.instance_name||e.instanceName,component_name:e.component_name||e.componentName,component_version:e.component_version||e.componentVersion,data:e.data||{},created:e.created||Date.now()});let o;if(Array.isArray(e)){o={...n({event:"batch",data:e.map(e=>n(e))}),org_uid:e[0].orgUid||t.orgUid,org_name:e[0].orgName||t.orgName,stage_name:t.stageName,app_name:t.appName,instance_name:t.instanceName,component_name:t.componentName,component_version:t.componentVersion}}else{const r=n(e);o={...r,org_uid:e.org_uid||e.orgUid||t.orgUid,org_name:e.org_name||e.orgName||t.orgName,stage_name:r.stage_name||t.stageName,app_name:r.app_name||t.appName,instance_name:r.instance_name||t.instanceName,component_name:r.component_name||t.componentName,component_version:r.component_version||t.componentVersion}}if(!o.org_name&&!o.org_uid)throw new Error("Both event and SDK context are missing an org uid or name");return{...o,access_key:r}}e.exports.send=(e,t,r,n)=>{const i=s(o(e),r,n);if(!t||!t.isConnected())throw new Error("You are not currently connected to the Serverless Platform.");t.send(JSON.stringify(i))},e.exports.publish=(e,t,r,i)=>n.request({endpoint:t+"/publish",accessKey:i,method:"POST",data:s(o(e),r)}),e.exports.get=(e,t,r)=>n.request({endpoint:`${t}/events/${e}`,accessKey:r,method:"GET"}),e.exports.list=(e,t,r,o={})=>{const{org_name:s=null,org_uid:i=null,event:a="*",limit:c=10,created:u,starting_after:p}=o,l=new URLSearchParams({event:a,limit:c});if(i?l.append("org_uid",i):s?l.append("org_name",s):t.orgUid?l.append("org_uid",t.orgUid):t.orgName&&l.append("org_name",t.orgName),!l.has("org_uid")&&!l.has("org_name"))throw new Error("Must pass in options or set SDK context for `org_uid`/`org_name`");if(u)if(new Set(["number","string"]).has(typeof u))l.append("created.gt",u);else{if("object"==typeof a)throw new Error("The 'created' parameter must be either a integer Unix timestamp or a dictionary");{let e=!1;for(const t of["gt","gte","lt","lte"])if(u[t]){l.append("created."+t,u[t]),e=!0;break}if(!e)throw new Error("The 'created' dictionary parameter must have one of [gt|gte|lt|lte] set")}}return p&&l.append("starting_after",p),n.request({endpoint:`${e}/events?${l.toString()}`,accessKey:r,method:"GET"})}},function(e,t,r){"use strict";const n=r(4),o=r(0);e.exports={register:(e,t,r={})=>{if(!(r.org_uid||e.context.orgUid||r.org_name||e.context.orgName))throw new Error("Must pass in options or set SDK context for `org_uid`/`org_name`");return o.request({endpoint:e.getDomain("event-webhooks")+"/webhooks",method:"POST",accessKey:e.accessKey,data:{url:t,org_uid:r.org_uid||e.context.orgUid,org_name:r.org_name||e.context.orgName,description:r.description,filter:r.filter}})},list:(e,t,r)=>o.request({endpoint:`${e.getDomain("event-webhooks")}/webhooks?${n.stringify({org_uid:e.context.orgUid,org_name:e.context.orgName,starting_after:t,limit:r})}`,method:"GET",accessKey:e.accessKey}),get:(e,t)=>o.request({endpoint:`${e.getDomain("event-webhooks")}/webhooks/${t}`,method:"GET",accessKey:e.accessKey}),update:(e,t,r)=>o.request({endpoint:`${e.getDomain("event-webhooks")}/webhooks/${t}`,method:"POST",data:{url:r.url,description:r.description,filter:r.filter,status:r.status},accessKey:e.accessKey}),remove:(e,t)=>o.request({endpoint:`${e.getDomain("event-webhooks")}/webhooks/${t}`,method:"DELETE",accessKey:e.accessKey})}},function(e,t,r){"use strict";const n=r(0);e.exports={create:(e,t,r,o)=>{if(!e.accessKey)throw new Error('An "accessKey" is required to create other Access Keys.');if(!t)throw new Error('An "orgName" is required to determine which Serverless Organization you would like to create an Access Key for.');if(!r)throw new Error('A "userName" is required to determine which User within the Serverless Organization you would like to create an Access Key for.');if(!o)throw new Error('An "accessKeyName" is required to name this Serverless Organization Access Key.');return n.request({endpoint:`${e.getDomain("core")}/core/tenants/${t}/accessKeys`,method:"POST",accessKey:e.accessKey,data:{userName:r,title:o}})},list:(e,t)=>{if(!e.accessKey)throw new Error('An "accessKey" is required to list Access Keys.');if(!t)throw new Error('An "orgName" is required to determine which Serverless Organization you would like to list Access Keys.');return n.request({endpoint:`${e.getDomain("core")}/core/tenants/${t}/accessKeys`,method:"GET",accessKey:e.accessKey})},remove:(e,t,r)=>{if(!e.accessKey)throw new Error('An "accessKey" is required to destroy Access Keys.');if(!t)throw new Error('An "orgName" is required to determine which Serverless Organization has the Access Key you would like to destroy.');if(!r)throw new Error('A "uid" is required to determine which Serverless Organization Access Key you would like to destroy.');return n.request({endpoint:`${e.getDomain("core")}/core/tenants/${t}/accessKeys/${r}`,method:"DELETE",accessKey:e.accessKey})},get:async e=>(await n.request({endpoint:e.getDomain("core")+"/core/tenants/accessKey/meta",method:"GET",accessKey:e.accessKey})).result}},function(e,t,r){"use strict";const n=r(0);e.exports={create:(e,t,r,o)=>n.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections`,method:"POST",accessKey:e.accessKey,data:{providerUid:r,accountAlias:o}}),list:(e,t)=>n.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections`,method:"GET",accessKey:e.accessKey}),get:(e,t,r)=>n.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections/${r}`,method:"GET",accessKey:e.accessKey}),getByOrgAndAccountAlias:(e,t,r)=>n.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connectionAlias/${r}`,method:"GET",accessKey:e.accessKey}),update:(e,t,r,o,s,i)=>n.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections/${r}`,method:"PUT",accessKey:e.accessKey,data:{providerUid:o,accountAlias:s,status:i}}),remove:(e,t,r)=>n.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections/${r}`,method:"DELETE",accessKey:e.accessKey}),syncAll:(e,t)=>{if(!t)throw new Error('An "orgUid" is required.');return n.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/sync`,method:"POST",accessKey:e.accessKey})},unsync:(e,t,r)=>{if(!t)throw new Error('An "orgUid" is required.');if(!r)throw new Error('An "connectionUid" is required.');return n.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/unsync/${r}`,method:"POST",accessKey:e.accessKey})}}},function(e,t,r){"use strict";const n=r(0);e.exports={createSavedQuery:async(e,t,r,o,s)=>n.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${r}/services/${o}/savedQueries`,method:"POST",accessKey:e.accessKey,data:s}),getSavedQuery:async(e,t,r,o,s)=>n.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${r}/services/${o}/savedQueries/${s}`,method:"GET",accessKey:e.accessKey}),updateSavedQuery:async(e,t,r,o,s,i)=>n.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${r}/services/${o}/savedQueries/${s}`,method:"PUT",accessKey:e.accessKey,data:i}),deleteSavedQuery:async(e,t,r,o,s)=>n.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${r}/services/${o}/savedQueries/${s}`,method:"DELETE",accessKey:e.accessKey}),listSavedQueries:async(e,t,r,o)=>n.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${r}/services/${o}/savedQueries`,method:"GET",accessKey:e.accessKey})}},function(e,t,r){"use strict";const n=r(0);e.exports={refreshToken:async(e,t)=>await n.request({endpoint:e.getDomain("core")+"/core/tokens/refresh",method:"POST",data:{refreshToken:t}})}},function(e,t,r){"use strict";const n=r(0);e.exports={get:async(e,{orgName:t,appName:r})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${r}`;return n.request({accessKey:e.accessKey,endpoint:o,method:"GET"})},create:async(e,{orgName:t,app:r})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications`;return n.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:{tenantName:t,appName:r.name,title:r.name,description:r.description,deploymentProfiles:r.deploymentProfiles}})},update:async(e,{orgName:t,app:r})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${r.name}`;return n.request({accessKey:e.accessKey,endpoint:o,method:"PATCH",data:{appName:r.name,title:r.name,description:r.description,deploymentProfiles:r.deploymentProfiles}})},remove:async(e,{orgName:t,appName:r})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${r}`;return n.request({accessKey:e.accessKey,endpoint:o,method:"DELETE"})},list:async(e,{orgName:t})=>{const r=`${e.getDomain("core")}/core/tenants/${t}/applications`;return n.request({accessKey:e.accessKey,endpoint:r,method:"GET"})}}},function(e,t,r){"use strict";const n=r(0);e.exports={get:async(e,{orgName:t,appName:r,serviceName:o})=>{if(!t)throw new Error('An "orgName" is required to determine Serverless Organization for service');if(!r)throw new Error('An "appName" is required to determine Serverless Application for service');if(!o)throw new Error('A "serviceName" is required to determine which service should be returned');const s=`${e.getDomain("core")}/core/tenants/${t}/applications/${r}/services/${o}`;return n.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},getStateVariable:async(e,{orgName:t,appName:r,serviceName:o,stageName:s,regionName:i,variableName:a})=>{if(!t)throw new Error('An "orgName" is required to determine Serverless Organization for service');if(!r)throw new Error('An "appName" is required to determine Serverless Application for service');if(!o)throw new Error('A "serviceName" is required to determine Service associated with State Variable');if(!s)throw new Error('A "stageName" is required to determine stage associated with State Variable');if(!i)throw new Error('A "regionName" is required to determine region associated with State Variable');if(!a)throw new Error('A "variableName" is required');const c=`${e.getDomain("core")}/core/tenants/${t}/applications/${r}/services/${o}/stages/${s}/regions/${i}/outputs`;return n.request({endpoint:c,method:"POST",accessKey:e.accessKey,data:{outputName:a}})}}},function(e,t,r){"use strict";const n=r(0);e.exports={getOrCreate:async(e,{orgUid:t,appUid:r,serviceName:o,stageName:s,regionName:i,accountId:a})=>{const c=e.getDomain("core")+"/malt/destinations/create";return await n.request({accessKey:e.accessKey,endpoint:c,method:"POST",data:{tenantUid:t,appUid:r,serviceName:o,stageName:s,regionName:i,accountId:a}})},remove:async(e,{orgUid:t,appUid:r,serviceName:o,stageName:s,regionName:i})=>{const a=e.getDomain("core")+"/malt/destinations/delete";return await n.request({accessKey:e.accessKey,endpoint:a,method:"POST",data:{tenantUid:t,appUid:r,serviceName:o,stageName:s,regionName:i}})}}},function(e,t,r){"use strict";const n=r(0);e.exports={get:async(e,{orgName:t,appName:r,stageName:o,serviceName:s})=>{const i=`${e.getDomain("core")}/core/tenants/${t}/applications/${r}/profileValue`,a=await n.request({endpoint:i,method:"POST",accessKey:e.accessKey,data:{stageName:o,serviceName:s}});return a||{secretValues:[],safeguardsPolicies:[],providerCredentials:null}},list:async(e,{orgName:t})=>{const r=`${e.getDomain("core")}/core/tenants/${t}/deploymentProfiles`;return n.request({endpoint:r,method:"GET",accessKey:e.accessKey})},create:async(e,{profileName:t,orgName:r,description:o="A description was not provided for this profile",secrets:s=[],safeguardsPolicies:i=[],providerCredentials:a=null})=>{const c=`${e.getDomain("core")}/core/tenants/${r}/deploymentProfiles`;return n.request({endpoint:c,method:"POST",accessKey:e.accessKey,data:{name:t,description:o,secrets:s,safeguardsPolicies:i,providerCredentials:a}})},setDefault:async(e,{appName:t,orgName:r,profileUid:o})=>{const s=`${e.getDomain("core")}/core/tenants/${r}/applications/${t}`;return n.request({endpoint:s,method:"PATCH",accessKey:e.accessKey,data:{deploymentProfiles:{default:o}}})}}},function(e,t,r){"use strict";const n=r(0);e.exports={get:async(e,{orgName:t})=>{const r=`${e.getDomain("core")}/core/tenants/${t}`;return await n.request({accessKey:e.accessKey,endpoint:r,method:"GET"})},list:async(e,{username:t})=>{const r=`${e.getDomain("core")}/core/tenants?userName=${t}`;return await n.request({accessKey:e.accessKey,endpoint:r,method:"GET"})},create:async(e,{orgName:t,username:r,email:o,password:s})=>{if(!t)throw new Error('An "orgName" is required to create an organization.');const i=e.getDomain("core")+"/core/tenants";return n.request({endpoint:i,method:"POST",data:{ownerUserName:r||t,ownerPassword:s,ownerEmail:o,title:t,tenantName:t}})},validate:async(e,{orgName:t,username:r})=>{if(!t)throw new Error('An "orgName" is required for validation.');const o=e.getDomain("core")+"/core/validate/tenants",s=await n.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:{ownerUserName:r||t,title:t,tenantName:t}});return s&&s.validationErrors&&s.validationErrors.length?s.validationErrors:null}}},function(e,t,r){"use strict";const n=r(0);e.exports={get:async e=>{const t=e.getDomain("core")+"/core/meta";return await n.request({accessKey:e.accessKey,endpoint:t,method:"GET"})}}},function(e,t,r){"use strict";const n=r(4),o=r(0);e.exports={create:async(e,{orgName:t,appName:r,serviceName:n,stageName:s,regionName:i,deploymentData:a})=>{if(!t)throw new Error('An "orgName" is required to determine Serverless Organization for service');if(!r)throw new Error('An "appName" is required to determine Serverless Application for service');if(!n)throw new Error('A "serviceName" is required to determine which service should be archived');if(!s)throw new Error('A "stageName" is required');if(!i)throw new Error('A "regionName" is required');if(!a)throw new Error('A "deploymentData" is required');const c={tenantName:t,appName:r,serviceName:n,stageName:s,regionName:i,...a},u=`${e.getDomain("core")}/core/tenants/${t}/applications/${r}/services/${n}/stages/${s}/regions/${i}/deployments`;return o.request({endpoint:u,method:"POST",accessKey:e.accessKey,data:c})},list:async(e,{orgName:t,appName:r,serviceName:s,stageName:i,regionName:a,cursor:c})=>{if(!t)throw new Error('An "orgName" is required to determine Serverless Organization for service');if(!r)throw new Error('An "appName" is required to determine Serverless Application for service');if(!s)throw new Error('A "serviceName" is required to determine which service should be archived');if(!i)throw new Error('A "stageName" is required');if(!a)throw new Error('A "regionName" is required');let u=`${e.getDomain("core")}/core/tenants/${t}/applications/${r}/services/${s}/stages/${i}/regions/${a}/deployments`;return c&&(u+="?"+n.stringify({"x-cursor":c})),o.request({endpoint:u,method:"GET",accessKey:e.accessKey})}}}])}));
//# sourceMappingURL=serverless-platform-client.min.js.map